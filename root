{"version":1,"ops":[{"type":1,"author":{"id":"cbda4c3e0f8cfde4151088caf421bf19e91d2a73"},"timestamp":1561148644,"metadata":{"github-id":"MDU6SXNzdWU0NTkzNTkyODE=","github-url":"https://github.com/yeldiRium/leetbot/issues/45","origin":"github"},"title":"improve language handling","message":"Currently every call to a translation function that sends something to an enabled chat retrieves the language that is configured for that chat and passes it to `i18n.t`. That is ugly and much overhead.\n\nConcept to solve this:\nAdd a middleware that retrieves the language in the current chat (if one is configured, otherwise sets a default) and pre-parameterizes a translation function which later middlewares can use.\nThis way language selection is done in one place and current middlewares (and thus commands) can use a translation function that is attached to the context.","files":null}]}